<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>A-Frame PBR 8k texture test</title>
    <meta name="description" content="A-Frame PBR Example" />
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@7.5.1/dist/aframe-extras.min.js"></script>
  </head>
  <body>
<a-scene
         
  renderer="colorManagement: true; physicallyCorrectLights: true; shadowMapEnabled: true;"

 
  background="color: #000"
  highRefreshRate="true"
>




      <a-assets>
        <img id="skybox1" crossorigin="anonymous" src="Assets/skybox.jpg" alt="Skybox texture" />
        <img id="albedoTex" crossorigin="anonymous" src="Assets/concretealbedo1ks.jpg" alt="Concrete albedo texture" />
        <img id="normalTex" crossorigin="anonymous" src="Assets/concretenormal1ks.jpg" alt="Concrete normal map texture" />
        <img id="roughTex" crossorigin="anonymous" src="Assets/concreteroughness1k.jpg" alt="Concrete roughness map texture" />
      </a-assets>

      <!-- Skybox -->
      <a-sky src="#skybox1" geometry="primitive: sphere; radius: 492.72; segmentsWidth: 12; segmentsHeight: 12" scale="0.7 0.4 1"></a-sky>

      <!-- Sun Light -->
      <a-entity
        id="sun"
        light="color: #d17321; intensity: 2.04; castShadow: true; groundColor: #d5c039; penumbra: 2"
        position="10 3 -0.9"
      ></a-entity>

      <!-- Orb Container rotates the orb and nested lights -->
      <a-entity
        id="orb-container"
        position="0 2 2"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 8000; easing: linear;"
      >
        <a-sphere
          id="orb-emission"
          position="1 0 0"
          radius="0.2"
          segments-width="12"
          segments-height="12"
          material="emissive: #6a7cc4; emissiveIntensity: 4; color: #6a7cc4; roughness: 0.1; metalness: 0.3;"
          shadow="cast: true"
        >
          <!-- Point Light inside orb -->
          <a-light
            id="orb-pointlight"
            type="point"
            color="#6a7cc4"
            intensity="15"
            distance="10"
            decay="2"
     
            shadow-camera-near="0.5"
            shadow-camera-far="50"
            shadow-map-width="2048"
            shadow-map-height="2048"
            shadow-bias="-0.001"
          ></a-light>

          <!-- Directional Light inside orb -->
          <a-entity
            id="orb-directionallight"
            light="type: directional; color: #6a7cc4; intensity: 0.5; castShadow: true;"
            position="0 0 0"
            shadow-camera-near="0.5"
            shadow-camera-far="50"
            shadow-map-width="1024"
            shadow-map-height="1024"
            shadow-bias="-0.001"
          ></a-entity>
        </a-sphere>
      </a-entity>

      <!-- Player rig -->
      <a-entity id="rig" 
                movement-controls="fly: false; constrainToNavMesh: false; speed: 0.3" 
                position="0 0 0">
        <a-entity id="camera" 
                  camera 
                  position="0 1.6 0" 
                  look-controls="pointerLockEnabled: true; touchEnabled: true; magicWindowTrackingEnabled: true" 
                  wasd-controls="acceleration: 65"
                  mobile-look-controls
                  touch-look-controls></a-entity>
        <a-entity id="leftHand" 
                  tracked-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc" 
                  vive-controls="hand: left" 
                  oculus-touch-controls="hand: left"
                  windows-motion-controls="hand: left"></a-entity>
        <a-entity id="rightHand" 
                  tracked-controls="hand: right; handModelStyle: lowPoly; color: #ccffcc" 
                  vive-controls="hand: right" 
                  oculus-touch-controls="hand: right"
                  windows-motion-controls="hand: right"></a-entity>
      </a-entity>

      <!-- Geometry -->
      <a-box
        position="-2 0.5 -1"
        width="1"
        height="1"
        depth="1"
        material="shader: standard; src: #albedoTex; normalMap: #normalTex; roughnessMap: #roughTex; metalness: 0; repeat: 3 3;"
        shadow="cast: true; receive: true"
      ></a-box>

      <a-sphere
        id="sphere"
        position="0 0.5 -3"
        radius="0.75"
        material="shader: standard; src: #albedoTex; normalMap: #normalTex; roughnessMap: #roughTex; metalness: 0; repeat: 3 3;"
        shadow="cast: true; receive: true"
        segments-width="12"
        segments-height="12"
      ></a-sphere>

      <a-cylinder
        position="2 0.75 -4.5"
        radius="0.5"
        height="1.5"
        material="shader: standard; src: #albedoTex; normalMap: #normalTex; roughnessMap: #roughTex; metalness: 0; repeat: 3 3;"
        shadow="cast: true; receive: true"
        segments-width="5"
        segments-height="2"
      ></a-cylinder>

      <a-plane
        rotation="-90 0 0"
        width="30"
        height="30"
        material="shader: standard; src: #albedoTex; normalMap: #normalTex; roughnessMap: #roughTex; metalness: 0; roughness: 1; repeat: 6 6;"
        shadow="cast: true; receive: true"
      ></a-plane>
    </a-scene>
  </body>
</html>
